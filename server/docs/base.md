# Базовая информация

Сейчас на сервере используется DDD-архитектура. В дальнейшем планы могут измениться.

Вся главная логика содержится в domain.

# Описание основной концепции

Логика поделена на:

Слои:

- **Task** - содержит одно или пару простейших действий. Представляет элементарный функционал. Пример - DigTask

- **Process** - содержит в себе несколько Task. Представляет последовательность действий. Пример - CollectProcess

- **Scenario** - может содержать в себе как Process, так и Task. Представляет высокоуровневое описание того, что бот должен делать. Пример - MiningScenario

Самих ботов:

- **Bot** - экземпляр бота, который будет управлять всей движухой. В нем же содержатся некоторые настройки. Планируется добавлять разные экземпляры для разных серверов, так как могут отличаться алгоритмы захода на сервер, регистрации и логина

Как правило, слои одного уровня могут использовать только слои уровня ниже, но могут быть исключения. Если таких исключений станет слишком много, то необходимо будет добавить дополнительный слой.<br>

**Task**, **Proces** и **Scenario** не могут использовать в себе циклы для реализации основного функционала, вместо этого существуют **Dispatcher**'ы. Это сделано для более простого отслеживания текущего этапа работы.<br>

**Dispatcher** - имплементирует тот же интерфейс, что и передаваемая в него сущность. Принимает массив аргументов и на каждый аргумент вызывает метод для начала работы сущности.<br>

Подробнее про слои можно узнать в соответствующих файлах документации.
